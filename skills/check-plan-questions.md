---
name: check-plan-questions
description: >-
  Planner-specific skill to check all plans for unanswered questions requiring
  attention
version: 1.0.0
created: '2025-10-23T16:43:39.000Z'
modified: '2025-10-23T16:43:39.000Z'
tags:
  - questions
  - monitoring
  - planner
  - status
dependencies: []
custom: {}
languages: []
complexity: beginner
domains: []
prerequisites: []
parameters: []
examples: []
proficiency_level: 0
---
## Skill: Check Plan Questions### PurposePlanner-specific skill to monitor all active plans for unanswered questions. Identifies questions that need responses and tracks which ones are still pending.### UsageUsed by the planner persona/agent to identify questions requiring attention. Can be run periodically or on-demand.### Parameters- show_answered: Include already-answered questions default: false- plan_id: Filter by specific plan, or all for all plans default: all### Implementationbash#/bin/bash# Check for unanswered questions in plansSHOW_ANSWERED=1:-falsePLAN_ID=2:-all# Base path for memoriesMEMORY_BASE=HOME/.dollhouse/portfolio/memories# Function to find plan foldersfind_plans   if [ PLAN_ID = all ] then    find MEMORY_BASE -type d -name plan-  sort  else    find MEMORY_BASE -type d -name PLAN_ID  sort  fi# Function to check if question has an answerhas_answer   local question_file=1  local plan_folder=dirname question_file  local question_filename=basename question_file  local question_timestamp=echo question_filename  grep -oE ^[0-9]8-[0-9]6-[0-9]3    # Look for answer messages that reference this question  # Answers come after questions chronologically and may reference them  local answers=find plan_folder -name -answer-.yaml  while read -r answer_file do    # Check if answer timestamp is after question timestamp    answer_filename=basename answer_file    answer_timestamp=echo answer_filename  grep -oE ^[0-9]8-[0-9]6-[0-9]3        if [[ answer_timestamp  question_timestamp ]] then      # Check if answer references this question via parent_message or content      if grep -q question_filename answer_file 2/dev/null then        echo answer_file      fi    fi  done    [ -n answers ]# Function to extract key info from questionextract_question_info   local question_file=1  local filename=basename question_file  local timestamp=echo filename  grep -oE ^[0-9]8-[0-9]6-[0-9]3    # Convert timestamp to readable format  local year=timestamp:0:4  local month=timestamp:4:2  local day=timestamp:6:2  local hour=timestamp:9:2  local min=timestamp:11:2  local readable_time=year-month-day hour:min    # Extract sender from filename  local sender=echo filename  grep -oE question-[a-z-]+  cut -d- -f2-    # Extract description from YAML  local description=grep ^description: question_file  sed s/^description: //    # Extract receiver from tags  local receiver=grep -A 10 ^tags: question_file  grep receiver-  sed s/.receiver-//  tr -d  -    echo readable_timesenderreceiverdescription# Main logicecho echo   unanswered_questions: [FIRST=truefind_plans  while read -r plan_folder do  plan_name=basename plan_folder    # Find all question messages  if [ -d plan_folder ] then    find plan_folder -maxdepth 1 -name -question-.yaml  sort  while read -r question_file do            # Check if answered      if has_answer question_file then        # Skip if were not showing answered questions        [ SHOW_ANSWERED = false ]  continue        status=answered      else        status=unanswered      fi            # Extract question info      INFO=extract_question_info question_file      IFS= read -r time sender receiver description  INFO            # Output question      if [ FIRST = true ] then        FIRST=false      else        echo     ,      fi            echo           echo       plan: plan_name,      echo       filename: basename question_file,      echo       path: question_file,      echo       timestamp: time,      echo       from: sender,      echo       to: receiver,      echo       subject: description,      echo       status: status      echo         done  fidoneecho   ]echo ### Usage ExamplesCheck for unanswered questions:bashbash check-plan-questions.sh false allCheck all questions including answered:bashbash check-plan-questions.sh true allCheck specific plan:bashbash check-plan-questions.sh false plan-2025-10-23-auth-system### Return Formatjson  unanswered_questions: [          plan: plan-2025-10-23-auth-system,      filename: 20251023-122500-004-question-coder.yaml,      path: /Users/user/.dollhouse/portfolio/memories/2025-10-23/plan-2025-10-23-auth-system/20251023-122500-004-question-coder.yaml,      timestamp: 2025-10-23 12:25,      from: coder,      to: planner,      subject: Password hashing algorithm choice,      status: unanswered    ,          plan: plan-2025-10-23-landing-page,      filename: 20251023-131000-003-question-designer.yaml,      path: /Users/user/.dollhouse/portfolio/memories/2025-10-23/plan-2025-10-23-landing-page/20251023-131000-003-question-designer.yaml,      timestamp: 2025-10-23 13:10,      from: designer,      to: planner,      subject: Color scheme approval needed,      status: unanswered      ]### Using with DollhouseMCP ToolsAlternative implementation:bash# Search for question messagesmcp__DollhouseMCP__search_portfolio   --query type-question receiver-planner   --type memories# Then manually check for corresponding answers### Integration with Planner AgentThe planner agent can use this for periodic monitoring:bash#/bin/bash# Planner agent routine check# Check for unanswered questionsQUESTIONS=bash check-plan-questions.sh false allCOUNT=echo QUESTIONS  jq .unanswered_questions  lengthif [ COUNT -gt 0 ] then  echo ⚠️  COUNT unanswered questions require attention:  echo QUESTIONS  jq -r .unanswered_questions[]    - [.plan] .from → .to: .subject    # Notify user or take actionelse  echo ✅ No unanswered questionsfi### Answer Detection LogicThe skill considers a question answered if:1. An answer message exists with a later timestamp2. The answer message references the question via parent_message metadata or content mentionThis handles both explicit threading and implicit answers.### Planner Dashboard Examplebash#/bin/bash# Comprehensive planner status dashboardecho === Plan Status Dashboard ===echo # Active plansecho Active Plans:find /.dollhouse/portfolio/memories -type d -name plan-    xargs -I basename     sed s/^/  - /echo # Unanswered questionsecho Unanswered Questions:QUESTIONS=bash check-plan-questions.sh false allecho QUESTIONS  jq -r .unanswered_questions[]    ❓ [.plan] .from: .subjectecho # Recent completions last 24 hoursecho Recent Completions:find /.dollhouse/portfolio/memories -name -completion-.yaml -mtime -1    xargs -I grep ^description:     sed s/description: /  ✅ /echo ### Benefits✅ Proactive monitoring: Find questions before theyre forgotten  ✅ Multi-plan awareness: Sees questions across all active plans  ✅ Status tracking: Distinguishes answered vs unanswered  ✅ Actionable output: Clear format for planner to act on  ✅ Dashboard-ready: Easy to integrate into status views### Notes- Answer detection uses timestamp comparison and reference checking- Can be run periodically by planner agent- Useful for chief of staff monitoring role- Compatible with both manual and automated workflows- Helps prevent dropped communication
